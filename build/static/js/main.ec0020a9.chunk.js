(this["webpackJsonpecommerce-front"]=this["webpackJsonpecommerce-front"]||[]).push([[0],{51:function(e,t,a){e.exports=a(97)},62:function(e,t,a){},63:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(15),l=a.n(c),o=a(4),s=a(18),m=a(11),i=a(5),d=a(3),u="https://groceryapp1.herokuapp.com/api",p=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},b=function(){var e=Object(n.useState)({name:"",email:"",password:"",phone:"",error:"",success:!1}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=a.name,b=a.email,f=a.password,E=a.phone,h=a.error,g=a.success,v=function(e){return function(t){c(Object(i.a)({},a,Object(m.a)({error:!1},e,t.target.value)))}},N=function(e){var t;e.preventDefault(),c(Object(i.a)({},a,{error:!1})),(t={name:l,email:b,phone:E,password:f},fetch("".concat(u,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?c(Object(i.a)({},a,{error:e.error,success:!1})):c(Object(i.a)({},a,{name:"",email:"",password:"",phone:"",error:"",success:!0}))}))};return p()?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"bg-primary",id:"layoutAuthentication"},r.a.createElement("div",{className:"nav",style:{fontSize:"24px"}},r.a.createElement(o.b,{className:"nav-link text-white",to:"/"}," ",r.a.createElement("i",{class:"fas fa-angle-left"})," Back")),r.a.createElement("div",{id:"layoutAuthentication_content"},r.a.createElement("main",null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",{class:"col-lg-7"},r.a.createElement("div",{class:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"text-center font-weight-light my-4"},"Join 7 MART !")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"small mb-1",for:"inputFirstName"},"First Name"),r.a.createElement("input",{class:"form-control py-4",onChange:v("name"),value:l,id:"inputFirstName",type:"text",placeholder:"Enter full name"})))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"small mb-1",for:"inputEmailAddress"},"Email"),r.a.createElement("input",{class:"form-control py-4",onChange:v("email"),value:b,type:"email","aria-describedby":"emailHelp",placeholder:"Enter email address"})),r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"small mb-1",for:"inputFirstName"},"Phone"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("button",{className:"btn btn-primary"},"+91")),r.a.createElement("input",{class:"form-control py-4",onChange:v("phone"),value:E,type:"number",placeholder:"Enter Phone"})))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"small mb-1",for:"inputPassword"},"Password"),r.a.createElement("input",{class:"form-control py-4",onChange:v("password"),value:f,type:"password",placeholder:"Enter password"})))),r.a.createElement("div",{class:"form-group mt-4 mb-0"},r.a.createElement("button",{onClick:N,className:"btn btn-primary btn-block"},"Create Account"))),r.a.createElement("div",{className:"mt-3"},r.a.createElement("div",{className:"alert alert-info",style:{display:g?"":"none"}},"New Account is Created. Please ",r.a.createElement(o.b,{to:"/signin"},"Signin")),r.a.createElement("div",{className:"alert alert-danger",style:{display:h?"":"none"}},h))),r.a.createElement("div",{class:"card-footer text-center"},r.a.createElement("div",{class:"small"},r.a.createElement(o.b,{to:"/signin"},"Have an account? Go to login"))))))))))},f=function(){var e=Object(n.useState)({phone:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=a.phone,b=a.password,f=a.error,E=a.loading,h=a.redirectToReferrer,g=p().user,v=function(e){return function(t){c(Object(i.a)({},a,Object(m.a)({error:!1},e,t.target.value)))}},N=function(e){e.preventDefault(),c(Object(i.a)({},a,{error:!1,loading:!0})),function(e){return fetch("".concat(u,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}({phone:l,password:b}).then((function(e){e.error||e.err?c(Object(i.a)({},a,{error:e.error||e.err,loading:!1})):function(e,t){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){c(Object(i.a)({},a,{redirectToReferrer:!0}))}))}))};return r.a.createElement("div",{className:"bg-primary",id:"layoutAuthentication"},r.a.createElement("div",{className:"nav",style:{fontSize:"24px"}},r.a.createElement(o.b,{className:"nav-link text-white",to:"/"}," ",r.a.createElement("i",{class:"fas fa-angle-left"})," Back")),r.a.createElement("div",{id:"layoutAuthentication_content"},r.a.createElement("main",null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",{class:"col-lg-7"},r.a.createElement("div",{class:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"text-center font-weight-light my-4"},"Login")),r.a.createElement("div",{class:"card-body"},r.a.createElement("form",{action:"",onSubmit:N},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"",className:"text-muted small mb-1"},"Phone"),r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-prepend"},r.a.createElement("button",{className:"btn btn-primary"},"+91")),r.a.createElement("input",{onChange:v("phone"),value:l,type:"number",name:"",id:"",placeholder:"Phone Number",className:"form-control"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"",className:"text-muted small mb-1"},"Password"),r.a.createElement("input",{onChange:v("password"),value:b,type:"password",placeholder:"Password",name:"",id:"",className:"form-control"})),r.a.createElement("div",{class:"form-group mt-4 mb-0"},r.a.createElement("button",{onClick:N,className:"btn btn-primary btn-block"},"Login"))),r.a.createElement("div",{className:"mt-3"},E&&r.a.createElement("div",{className:"aler alert-info"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"alert alert-danger",style:{display:f?"":"none"}},f),h?g&&!1===g.verified_phone?r.a.createElement(s.a,{to:"/user/".concat(g._id,"/verifyphone/").concat(g.phone)}):g&&1===g.role?r.a.createElement(s.a,{to:"/admin/dashboard"}):g&&2===g.role?r.a.createElement(s.a,{to:"/dboy/dashboard"}):r.a.createElement(s.a,{to:"/user/dashboard"}):p()?r.a.createElement(s.a,{to:"/"}):void 0)),r.a.createElement("div",{class:"card-footer text-center"},r.a.createElement("div",{class:"small"},r.a.createElement(o.b,{to:"/signup"},"Create an account? Go to SignUp"))))))))))},E=(a(60),a(61),function(){return r.a.createElement("div",{className:"container"},"7 mart home please",null!=p().token?r.a.createElement(o.b,{to:"/admin/dashboard"}," Dashboard"):r.a.createElement(o.b,{to:"/signin"}," Login"))}),h=a(42),g=function(e){var t=e.component,a=Object(h.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return p()&&1===p().user.role?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},v=(a(62),a(43)),N=a.n(v),y=function(e,t){return e.location.pathname===t?"active":"null"},j=function(){N()("body").toggleClass("sb-sidenav-toggled")},O=Object(s.g)((function(e){var t=e.history,a=e.children;return r.a.createElement(n.Fragment,null,r.a.createElement("nav",{className:"sb-topnav navbar navbar-expand navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand"},"7 MART"),r.a.createElement("button",{className:"btn btn-link btn-sm order-1 order-lg-0",id:"sidebarToggle",onClick:j,href:"#"},r.a.createElement("i",{className:"fas fa-bars"})),p()&&r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"--"},p()&&1===p().user.role&&r.a.createElement(o.b,{className:"nav-link text-white ml-3",to:"/"}," Home"))),r.a.createElement("ul",{className:"navbar-nav ml-auto ml-md-0"},r.a.createElement("li",{className:"nav-item dropdown"},r.a.createElement("a",{className:"nav-link dropdown-toggle",id:"userDropdown",href:"#",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-user fa-fw"})),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"userDropdown"},r.a.createElement(o.b,{className:"dropdown-item",to:"/admin/profile/".concat(p()&&p().user._id)},"Edit Profile"),r.a.createElement("div",{className:"dropdown-divider"}),r.a.createElement(o.b,{className:"dropdown-item",onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(u,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){t.push("/")}))},to:"/"},r.a.createElement("i",{className:"fa fa-user text-danger"})," SignOut"))))),r.a.createElement("div",{id:"layoutSidenav"},r.a.createElement("div",{id:"layoutSidenav_nav"},r.a.createElement("nav",{className:"sb-sidenav accordion sb-sidenav-dark",id:"sidenavAccordion"},r.a.createElement("div",{className:"sb-sidenav-menu"},r.a.createElement("div",{className:"nav "},r.a.createElement("div",{className:"sb-sidenav-menu-heading"},"Profile"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/dashboard")," nav-link"),to:"/admin/dashboard"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{className:"fas fa-tachometer-alt"})),"Dashboard"),r.a.createElement("div",{className:"sb-sidenav-menu-heading"},"Order"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/orders")," nav-link"),to:"/admin/orders"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-bell"})),"Order"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/orders-processing")," nav-link"),to:"/admin/orders-processing"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-shipping-fast"})),"Order Processing"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/orders-delcancel")," nav-link"),to:"/admin/orders-delcancel"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-archive"})),"Order Delivered & Cancelled"),r.a.createElement("div",{className:"sb-sidenav-menu-heading"},"Products"),r.a.createElement(o.b,{className:"".concat(y(t,"/create/product")," nav-link"),to:"/create/product"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-boxes"})),"Create Products"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/Products")," nav-link"),to:"/admin/Products"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-box-open"})),"Manage Products"),r.a.createElement(o.b,{className:"".concat(y(t,"/create/category")," nav-link"),to:"/create/category"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-anchor"})),"Category"),r.a.createElement("div",{className:"sb-sidenav-menu-heading"},"Delivery"),r.a.createElement(o.b,{className:"".concat(y(t,"/admin/banner")," nav-link"),to:"/admin/banner"},r.a.createElement("div",{className:"sb-nav-link-icon"},r.a.createElement("i",{class:"fas fa-biking"})),"Banner"))),r.a.createElement("div",{className:"sb-sidenav-footer"},r.a.createElement("div",{className:"small"},"Logged in as:"),p()&&1===p().user.role&&p().user.name))),a))})),w=function(e){e.title,e.description;var t=e.className,a=void 0===t?"container-fluid":t,c=e.children;return Object(n.useEffect)((function(){})),r.a.createElement("div",null,r.a.createElement(O,null,r.a.createElement("div",{id:"layoutSidenav_content"},r.a.createElement("main",null,r.a.createElement("div",{className:a},c)))))},C=(a(63),function(){Object(n.useEffect)((function(){}),[]);var e=p().user,t=(e._id,e.name),a=e.email;e.role;return r.a.createElement(w,{title:"Dashboard",description:"Hey ".concat(t),className:"container"},r.a.createElement("div",{className:"admin_profile p-4"},r.a.createElement("h3",{className:"mb-3"},"Admin Information"),r.a.createElement("div",{className:"row pl-3 mt-4"},r.a.createElement("img",{src:"/img/user-placeholder.jpg",alt:"",width:"100px",height:"100px",className:"rounded-circle float-left"}),r.a.createElement("div",{className:"ml-3 mt-3"},r.a.createElement("h5",null,t),r.a.createElement("h6",null,a),r.a.createElement("p",{className:"textmuted"},"Admin")))))}),S=function(){return fetch("".concat(u,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},x=function(e,t){return fetch("".concat(u,"/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},_=function(e,t,a,n){return fetch("".concat(u,"/order/").concat(a,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({status:n,orderId:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},k=a(16),P=a(8);function A(e){e?(document.getElementById("my-loader").style.display="block",document.getElementById("my-loader-img").style.display="block"):(document.getElementById("my-loader").style.display="none",document.getElementById("my-loader-img").style.display="none")}var D=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)({name:"",photo:"",formData:""}),s=Object(d.a)(l,2),b=s[0],f=s[1],E=b.name,h=b.formData,g=Object(n.useState)(!1),v=Object(d.a)(g,2),N=v[0],y=v[1],j=Object(n.useState)(!1),O=Object(d.a)(j,2),C=O[0],x=O[1],_=Object(n.useState)([]),D=Object(d.a)(_,2),T=D[0],B=D[1],F=Object(n.useState)(!1),I=Object(d.a)(F,2),q=I[0],z=I[1],H=Object(n.useState)({}),G=Object(d.a)(H,2),J=G[0],U=(G[1],Object(n.useState)({name:"",photo:"",editformData:new FormData})),L=Object(d.a)(U,2),Q=L[0],M=L[1],R=Q.editformData,V=Object(n.useState)(!1),Y=Object(d.a)(V,2),K=Y[0],W=Y[1],X=function(){return z(!1)},Z=function(e){(function(e,t,a,n){return fetch("".concat(u,"/category/").concat(a,"/").concat(e),{method:"PUT",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(ae._id,ne,e,Q).then((function(e){e.error?console.log(e.error):(ce(),W(!0),M(""))}))},$=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;R.set(e,a),M(Object(i.a)({},b,Object(m.a)({},e,a)))}},ee=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;h.set(e,a),f(Object(i.a)({},b,Object(m.a)({},e,a)))}},te=p(),ae=te.user,ne=te.token,re=function(e){e.preventDefault(),y(""),x(!1),c(!0),function(e,t,a){return fetch("".concat(u,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(ae._id,ne,h).then((function(e){e.error?(y(!0),c(!1)):(ce(),y(""),x(!0),c(!1))}))},ce=function(){c(!0),S().then((function(e){B(e),c(!1)}))},le=function(e){c(!0),function(e,t,a){return fetch("".concat(u,"/category/").concat(a,"/").concat(e),{method:"DELETE",headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(ae._id,ne,e).then((function(e){e.error?(console.log(e.error),c(!1)):(ce(),c(!1))}))};Object(n.useEffect)((function(){f(Object(i.a)({},b,{formData:new FormData})),M(Object(i.a)({},Q,{editformData:new FormData})),ce()}),[]);return r.a.createElement(w,{title:"Add a new category",description:"Hey ".concat(ae.name," ready to add category")},A(a),r.a.createElement("div",{className:""},r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Category"),r.a.createElement("div",{className:"ml-auto"})),function(){if(C)return r.a.createElement("h3",{className:"text-success"},E," is created")}(),function(){if(N)return r.a.createElement("h3",{className:"text-danger"},"Category should be unique")}(),r.a.createElement("form",{onSubmit:re,className:"mb-4"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",onChange:ee("name"),value:E,name:"",id:"",placeholder:"Category Name",autoFocus:!0,required:!0})),r.a.createElement("div",{class:"input-group mt-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{onChange:ee("photo"),type:"file",class:"custom-file-input",id:"inputGroupFile01"}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},"Choose file")),r.a.createElement("span",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-primary"},"Create")))),function(e){e.map((function(t,a){e[a].buttons=r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn btn-sm btn-danger ",onClick:function(e){return le(t._id)}},r.a.createElement("i",{className:"fa fa-ban"}))),e[a].image=r.a.createElement("img",{src:"".concat(u,"/category/photo/").concat(e[a]._id),className:"img-thumbnail  border-0",alt:"",width:"100px",height:"100px"})}));var t={columns:[{label:"Id",field:"_id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Image",field:"image",sort:"asc"},{label:"Controls",field:"buttons",sort:"asc"}],rows:e};return r.a.createElement(k.c,{striped:!0,bordered:!0,hover:!0,searching:!0,sortable:!0,data:t})}(T),r.a.createElement(P.a,{size:"lg",show:q,onHide:X},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Edit category")),r.a.createElement(P.a.Body,null,K?"Category Updated":null,r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",onChange:$("name"),defaultValue:J.name,name:"",id:"",placeholder:"Category Name",autoFocus:!0,required:!0})),r.a.createElement("div",{class:"input-group mt-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{onChange:$("photo"),type:"file",class:"custom-file-input",id:"inputGroupFile01"}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},"Choose file"))),r.a.createElement("div",{className:"row"},r.a.createElement("img",{src:"".concat(u,"/category/photo/").concat(J._id),className:"img-thumbnail  border-0",alt:"",width:"50px",height:"50px"}))),r.a.createElement(P.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:X},"Close"),r.a.createElement("button",{className:"btn btn-primary",onClick:function(e){return Z(J._id)}},"Update")))))},T=function(){var e=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",qty_type:"",pincode:"",offer:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formData:""}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=p(),s=l.user,b=l.token,f=a.name,E=a.description,h=a.price,g=a.categories,v=(a.category,a.shipping,a.qty_type,a.pincode),N=a.offer,y=a.quantity,j=a.loading,O=a.error,C=a.createdProduct,x=(a.redirectToProfile,a.formData);Object(n.useEffect)((function(){c(Object(i.a)({},a,{formData:new FormData})),S().then((function(e){e.error?c(Object(i.a)({},a,{error:e.error})):c(Object(i.a)({},a,{categories:e,formData:new FormData}))}))}),[]);var _=function(e){return function(t){var n="photo"===e?t.target.files[0]:t.target.value;x.set(e,n),c(Object(i.a)({},a,Object(m.a)({},e,n)))}},k=function(e){e.preventDefault(),c(Object(i.a)({},a,{error:"",loading:!0})),function(e,t,a){return fetch("".concat(u,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(s._id,b,x).then((function(e){e.error?c(Object(i.a)({},a,{error:JSON.stringify(e.error)+JSON.stringify(x)})):(c(Object(i.a)({},a,{name:"",description:"",price:"",quantity:"",loading:!1,createdProduct:e.name})),console.log(a))}))};return r.a.createElement(w,{title:"Add a new category",description:"Hey ".concat(s.name," ready to add category")},r.a.createElement("div",{className:""},r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Create Products")),A(j),r.a.createElement("div",{className:"alert alert-info",style:{display:C?"":"none"}},r.a.createElement("h2",null,"".concat(C," is created"))),r.a.createElement("div",{className:"alert alert-danger",style:{display:O?"":"none"}},O),r.a.createElement("form",{action:"",className:"mb-3",onSubmit:k},r.a.createElement("h4",null,"Post photo"),r.a.createElement("div",{className:"formgroup"},r.a.createElement("label",{className:"btn btn-secondary"},r.a.createElement("input",{onChange:_("photo"),type:"file",name:"photo",accept:"image/*"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{type:"text",onChange:_("name"),value:f,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Description"),r.a.createElement("textarea",{onChange:_("description"),value:E,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Price"),r.a.createElement("input",{type:"number",onChange:_("price"),value:h,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Category"),r.a.createElement("select",{onChange:_("category"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),g&&g.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Shipping"),r.a.createElement("select",{onChange:_("shipping"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Yes"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Quantity"),r.a.createElement("input",{type:"number",onChange:_("quantity"),value:y,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Qty Type"),r.a.createElement("select",{onChange:_("qty_type"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),r.a.createElement("option",{value:"kg"},"Kg"),r.a.createElement("option",{value:"gm"},"gm"),r.a.createElement("option",{value:"Piece"},"Piece"),r.a.createElement("option",{value:"Packet"},"Packet"),r.a.createElement("option",{value:"Bottle"},"Bottle"),r.a.createElement("option",{value:"Box"},"Box"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Pincode"),r.a.createElement("textarea",{type:"number",onChange:_("pincode"),value:v,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Offer Amount ",r.a.createElement("small",null,"Set to 0 for no offer")," "),r.a.createElement("input",{type:"number",onChange:_("offer"),value:N,className:"form-control",id:""})),r.a.createElement("button",{className:"btn btn-outline-primary"},"Create Product"))))},B=a(49),F=a.n(B),I=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),m=s[0],i=s[1],b=Object(n.useState)([]),f=Object(d.a)(b,2),E=f[0],h=f[1],g=p(),v=g.user,N=g.token,y=Object(n.useState)([]),j=Object(d.a)(y,2),O=j[0],C=j[1],S=Object(n.useState)(!1),D=Object(d.a)(S,2),T=D[0],B=D[1],I=Object(n.useState)([]),q=Object(d.a)(I,2),z=q[0],H=q[1],G=function(){return B(!1)},J=function(){(function(e,t){return fetch("".concat(u,"/order/list/notdelivered/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(v._id,N).then((function(e){e.error?(console.log(e.error),c(!1)):(i(e),c(!1))}))};Object(n.useEffect)((function(){J(),x(v._id,N).then((function(e){e.error?console.log(e.error):h(e)}))}),[]);var U=function(e){return r.a.createElement("div",{className:"form-group"},O===e._id?"updated":null,r.a.createElement("select",{onChange:function(t){return a=t,n=e._id,c(!0),void _(v._id,N,n,a.target.value).then((function(e){e.error?(console.log("status uppdate failed"),c(!1)):(J(),C(n))}));var a,n},className:"form-control"},r.a.createElement("option",null," Update Status"),E.map((function(t,a){return r.a.createElement("option",{key:a,value:t,selected:e.status===t},t)}))))};return r.a.createElement(w,{title:"orders",description:"Hey ".concat(v.name," You can manage all orders here")},A(a),r.a.createElement("div",null,r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Orders"),r.a.createElement("div",{className:"ml-auto"},m.length>0?r.a.createElement("li",{class:"breadcrumb-item active"},"Total Orders: ",m.length):r.a.createElement("li",{class:"breadcrumb-item active"},"No Orders"))),function(e){e.map((function(t,a){e[a].paidbyuser=r.a.createElement("div",null,r.a.createElement("p",null,"\u20b9",t.paid),r.a.createElement("p",null,t.payment_method)),e[a].orderedby=r.a.createElement(n.Fragment,null," ",t.user.name," ",r.a.createElement("br",null)," ",t.user._id.substr(t.user._id.length-5)),e[a].showstatus=U(t),e[a].amountinrs="\u20b9"+t.amount,e[a].smallid=t._id.substr(t._id.length-8),e[a].total_address=r.a.createElement("h6",null,t.address.address,r.a.createElement("br",null),t.address.city,r.a.createElement("br",null),t.address.district,r.a.createElement("br",null),t.address.state,r.a.createElement("br",null),t.pincode,r.a.createElement("br",null),t.address.land_marks,r.a.createElement("br",null)," "),e[a].buttons=r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn btn-sm btn-success m-1",onClick:function(t){return n=e[a].products,H(n),void B(!0);var n}},r.a.createElement("i",{class:"fa fa-eye","aria-hidden":"true"})),r.a.createElement("button",{className:"btn btn-sm btn-danger m-1",onClick:function(n){return F()({printable:'\n                   \n        <p id="header">INVOICE '.concat(e[a]._id,'</p>\n        \n        <div  style="width:45%;float:left;">\n        <u>Customer Address</u><br />\n                    ').concat(t.address.address,"<br />\n                    ").concat(t.address.city,"<br />\n                    ").concat(t.address.district,"<br />\n                    ").concat(t.address.state,"<br />\n                    ").concat(t.pincode,"<br />\n                    ").concat(t.address.land_marks,'<br /> \n        </div>\n        <div style="width:45%;float:left;">\n        <u>Customer Contact</u><br />\n                    ').concat(t.user.name,"<br />\n                    ").concat(t.user.phone,'<br />\n        </div>\n\t\t\n\t\t<table id="items" style="width:100%; margin-top:15px;">\n\t\t\n\t\t  <tr style="text-align:left;">\n\t\t      <th>Index</th>\n\t\t      <th>Name</th>\n\t\t      <th>Quantity</th>\n\t\t      <th>Type</th>\n\t\t      <th>Price (inc Offer)</th>\n          </tr>\n          \n          ').concat(e[a].products.map((function(e,t){return'<tr class="item-row">\n                            <td class="item-name">'.concat(t+1,'</td>\n                            <td class="description"><p>').concat(e.name,'</p></td>\n                            <td><p class="cost">\u20b9').concat(e.price,'</p></td>\n                            <td><p class="qty">').concat(e.count," ").concat(e.qty_type,'</p></td>\n                            <td><span class="price">\u20b9').concat((null!=e.offer&&e.offer>0?e.price-e.offer:e.price)*e.count,"</span></td>\n                        </tr>")})),'\n\t\t  <tr>\n\t\t      <td colspan="2" class="blank"> </td>\n\t\t      <td colspan="2" class="total-line">Delivery Fee</td>\n\n\t\t      <td class="total-value"><p id="paid">\u20b9').concat(e[a].amount<1024?"25":"0",'</p></td>\n\t\t  </tr>\n\t\t  <tr>\n\t\t      <td colspan="2" class="blank"> </td>\n\t\t      <td colspan="2" class="total-line">Total</td>\n\t\t      <td class="total-value"><div id="subtotal">').concat(e[a].amountinrs,'</div></td>\n\t\t  </tr>\n\t\t  <tr>\n\t\t      <td colspan="2" class="blank"> </td>\n\t\t      <td colspan="2" class="total-line">Amount Paid</td>\n\n\t\t      <td class="total-value"><p id="paid">\u20b9').concat(e[a].paid,"</p></td>\n\t\t  </tr>\n\t\t\n\t\t</table>"),type:"raw-html"})}},r.a.createElement("i",{class:"fa fa-print","aria-hidden":"true"})))}));var t={columns:[{label:"Id",field:"smallid"},{label:"Status",field:"showstatus"},{label:"paid",field:"paidbyuser"},{label:"Amount",field:"amountinrs"},{label:"Ordered by",field:"orderedby"},{label:"Ordered On",field:"createdAt"},{label:"Delivery Address",field:"total_address"},{label:"Products",field:"buttons"}],rows:e};return r.a.createElement(k.c,{btn:!0,striped:!0,bordered:!0,hover:!0,searching:!0,sortable:!0,responsive:!0,data:t})}(m)),r.a.createElement(P.a,{size:"lg",show:T,onHide:G},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Ordered Products")),r.a.createElement(P.a.Body,null,z.map((function(e,t){return r.a.createElement("div",{className:"row m-4"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{src:"".concat(u,"/products/photo/").concat(e._id),alt:"",srcset:""})),r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"font-weight-normal"},e.name),r.a.createElement("h6",{className:"text-muted"},e.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"\u20b9",e.price)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"Quantity: ",e.count)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"total: ",e.price*e.count)))))}))),r.a.createElement(P.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:G},"Close"))))},q=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),m=s[0],i=s[1],b=function(){c(!0),fetch("".concat(u,"/products?limit=1000"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?(console.log(e.error),c(!1)):(i(e),c(!1))}))},f=p(),E=f.user,h=f.token,g=function(e){c(!0),function(e,t,a){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Bearer ".concat(a)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e,E._id,h).then((function(e){e.error?(console.log(e.error),c(!1)):b()}))};return Object(n.useEffect)((function(){b()}),[]),r.a.createElement(w,{title:"Manage Products",description:"Perform CRUD on products"},A(a),r.a.createElement("div",{className:""},r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Manage Products"),r.a.createElement("li",{className:"breadcrumb__text ml-auto"},"Total ",m.length," products")),m.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-12 mb-1 row"},r.a.createElement("div",{className:"col-4 col-sm-1"},r.a.createElement("img",{src:"".concat(u,"/products/photo/").concat(e&&e._id),className:"img-thumbnail  border-0",alt:"",width:"50px",height:"50px"})),r.a.createElement("div",{className:"col-3 pl-0"},r.a.createElement("strong",null,e.name)),r.a.createElement("div",{className:"col-2"},r.a.createElement("p",null,e.category&&e.category.name)),r.a.createElement("div",{className:"col-2"},r.a.createElement(o.b,{to:"/admin/product/update/".concat(e._id)}," ",r.a.createElement("span",{className:"btn btn-sm btn-warning"}," ",r.a.createElement("span",{className:"fa fa-edit"}),"  ")," "),r.a.createElement("span",{onClick:function(){return g(e._id)},className:"btn btn-sm btn-danger "},"Delete")))}))))},z=(a(50),function(e){var t=e.match,a=Object(n.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",quantity:"",photo:"",pincode:"",offer:"",qty_type:"",loading:!1,error:"",createdProduct:"",redirectToProfile:!1,formdata:""}),c=Object(d.a)(a,2),l=c[0],s=c[1],b=p(),f=b.user,E=b.token,h=l.name,g=l.description,v=l.price,N=l.categories,y=(l.category,l.shipping,l.quantity),j=l.offer,O=l.loading,C=l.pincode,x=(l.qty_type,l.error),_=l.createdProduct,k=(l.redirectToProfile,l.formData),P=function(e){A(!0),function(e){return fetch("".concat(u,"/product/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(e).then((function(e){e.error?s(Object(i.a)({},l,{error:e.error})):(s(Object(i.a)({},l,{name:e.name,description:e.description,price:e.price,category:e.category._id,shipping:e.shipping,quantity:e.quantity,qty_type:e.qty_type,pincode:e.pincode,offer:e.offer,formdata:new FormData})),S().then((function(e){e.error?s(Object(i.a)({},l,{error:e.error})):s({categories:e,formData:new FormData})})),A(!1))}))};Object(n.useEffect)((function(){P(t.params.productId)}),[]);var D=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;k.set(e,a),s(Object(i.a)({},l,Object(m.a)({},e,a)))}},T=function(e){e.preventDefault(),s(Object(i.a)({},l,{error:"",loading:!0})),function(e,t,a,n){return fetch("".concat(u,"/product/").concat(e,"/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(a)},body:n}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t.params.productId,f._id,E,k).then((function(e){e.error?s(Object(i.a)({},l,{error:e.error})):(s(Object(i.a)({},l,{createdProduct:e.name})),console.log(l))}))};return r.a.createElement(w,{title:"Add a new category",description:"Hey ".concat(f.name," ready to add category")},r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/Products"},"Manage Products")),r.a.createElement("li",{class:"breadcrumb-item active"},"Update Product")),A(O),r.a.createElement("div",{className:"alert alert-info",style:{display:_?"":"none"}},r.a.createElement("h2",null,"".concat(_," is updated"))),r.a.createElement("div",{className:"alert alert-danger",style:{display:x?"":"none"}},x),r.a.createElement("form",{action:"",className:"mb-3",onSubmit:T},r.a.createElement("h4",null,"Post photo"),r.a.createElement("div",{className:"formgroup"},r.a.createElement("label",{className:"btn btn-secondary"},r.a.createElement("input",{onChange:D("photo"),type:"file",name:"photo",accept:"image/*"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{type:"text",onChange:D("name"),value:h,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Description"),r.a.createElement("textarea",{onChange:D("description"),value:g,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Price"),r.a.createElement("input",{type:"number",onChange:D("price"),value:v,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Category"),r.a.createElement("select",{onChange:D("category"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),N&&N.map((function(e,t){return r.a.createElement("option",{key:t,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Shipping"),r.a.createElement("select",{onChange:D("shipping"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Yes"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Quantity"),r.a.createElement("input",{type:"number",onChange:D("quantity"),value:y,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Qty Type"),r.a.createElement("select",{onChange:D("qty_type"),className:"form-control"},r.a.createElement("option",null,"Plaese Select"),r.a.createElement("option",{value:"kg"},"Kg"),r.a.createElement("option",{value:"gm"},"gm"),r.a.createElement("option",{value:"Piece"},"Piece"),r.a.createElement("option",{value:"Packet"},"Packet"),r.a.createElement("option",{value:"Bottle"},"Bottle"),r.a.createElement("option",{value:"Box"},"Box"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Pincode"),r.a.createElement("textarea",{type:"number",onChange:D("pincode"),value:C,className:"form-control",id:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Offer Amount ",r.a.createElement("small",null,"Set to 0 for no offer")," "),r.a.createElement("input",{type:"number",onChange:D("offer"),value:j,className:"form-control",id:""})),r.a.createElement("button",{className:"btn btn-outline-primary"},"Update Product")),void 0)}),H=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),m=s[0],i=s[1],b=Object(n.useState)([]),f=Object(d.a)(b,2),E=f[0],h=f[1],g=p(),v=g.user,N=g.token,y=Object(n.useState)([]),j=Object(d.a)(y,2),O=j[0],C=j[1],S=Object(n.useState)(!1),D=Object(d.a)(S,2),T=D[0],B=D[1],F=Object(n.useState)([]),I=Object(d.a)(F,2),q=I[0],z=I[1],H=function(){return B(!1)},G=function(){(function(e,t){return fetch("".concat(u,"/order/list/processing/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(v._id,N).then((function(e){e.error?(console.log(e.error),c(!1)):(i(e),c(!1))}))};Object(n.useEffect)((function(){G(),x(v._id,N).then((function(e){e.error?console.log(e.error):h(e)}))}),[]);var J=function(e){return r.a.createElement("div",{className:"form-group"},O===e._id?"updated":null,r.a.createElement("select",{onChange:function(t){return a=t,n=e._id,c(!0),void _(v._id,N,n,a.target.value).then((function(e){e.error?(console.log("status uppdate failed"),c(!1)):(G(),C(n))}));var a,n},className:"form-control"},r.a.createElement("option",null," Update Status"),E.map((function(t,a){return r.a.createElement("option",{key:a,value:t,selected:e.status===t},t)}))))};return r.a.createElement(w,{title:"orders",description:"Hey ".concat(v.name," You can manage all orders here")},A(a),r.a.createElement("div",null,r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Orders"),r.a.createElement("div",{className:"ml-auto"},m.length>0?r.a.createElement("li",{class:"breadcrumb-item active"},"Total Orders: ",m.length):r.a.createElement("li",{class:"breadcrumb-item active"},"No Orders"))),function(e){e.map((function(t,a){e[a].buttons=r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn btn-sm btn-success mr-1",onClick:function(t){return n=e[a].products,z(n),void B(!0);var n}},r.a.createElement("i",{class:"fa fa-eye","aria-hidden":"true"}))),e[a].orderedby=r.a.createElement(n.Fragment,null," ",t.user.name," ",r.a.createElement("br",null)," ",t.user._id.substr(t.user._id.length-5)),e[a].showstatus=J(t),e[a].amountinrs="\u20b9"+t.amount,e[a].smallid=t._id.substr(t._id.length-8),e[a].total_address=r.a.createElement("h6",null,t.address.address,r.a.createElement("br",null),t.address.city,r.a.createElement("br",null),t.address.district,r.a.createElement("br",null),t.address.state,r.a.createElement("br",null),t.pincode,r.a.createElement("br",null),t.address.land_marks,r.a.createElement("br",null)," ")}));var t={columns:[{label:"Id",field:"smallid",sort:"asc"},{label:"Status",field:"showstatus",sort:"asc"},{label:"Transaction Id",field:"transaction_id",sort:"asc"},{label:"Amount",field:"amountinrs",sort:"asc"},{label:"Ordered by",field:"orderedby",sort:"asc"},{label:"Ordered On",field:"createdAt",sort:"asc"},{label:"Delivery Address",field:"total_address",sort:"asc"},{label:"Products",field:"buttons",sort:"asc"}],rows:e};return r.a.createElement(k.c,{btn:!0,striped:!0,bordered:!0,hover:!0,searching:!0,sortable:!0,responsive:!0,data:t})}(m)),r.a.createElement(P.a,{size:"lg",show:T,onHide:H},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Ordered Products")),r.a.createElement(P.a.Body,null,q.map((function(e,t){return r.a.createElement("div",{className:"row m-4"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{src:"".concat(u,"/products/photo/").concat(e._id),alt:"",srcset:""})),r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"font-weight-normal"},e.name),r.a.createElement("h6",{className:"text-muted"},e.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"\u20b9",e.price)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"Quantity: ",e.count)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"total: ",e.price*e.count)))))}))),r.a.createElement(P.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:H},"Close"))))},G=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),m=s[0],i=s[1],b=Object(n.useState)([]),f=Object(d.a)(b,2),E=f[0],h=f[1],g=p(),v=g.user,N=g.token,y=Object(n.useState)([]),j=Object(d.a)(y,2),O=j[0],C=j[1],S=Object(n.useState)(!1),D=Object(d.a)(S,2),T=D[0],B=D[1],F=Object(n.useState)([]),I=Object(d.a)(F,2),q=I[0],z=I[1],H=function(){return B(!1)},G=function(){(function(e,t){return fetch("".concat(u,"/order/list/delcancel/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(v._id,N).then((function(e){e.error?(console.log(e.error),c(!1)):(i(e),c(!1))}))};Object(n.useEffect)((function(){G(),x(v._id,N).then((function(e){e.error?console.log(e.error):h(e)}))}),[]);var J=function(e){return r.a.createElement("div",{className:"form-group"},O===e._id?"updated":null,r.a.createElement("select",{onChange:function(t){return a=t,n=e._id,c(!0),void _(v._id,N,n,a.target.value).then((function(e){e.error?(console.log("status uppdate failed"),c(!1)):(G(),C(n))}));var a,n},className:"form-control"},r.a.createElement("option",null," Update Status"),E.map((function(t,a){return r.a.createElement("option",{key:a,value:t,selected:e.status===t},t)}))))};return r.a.createElement(w,{title:"orders",description:"Hey ".concat(v.name," You can manage all orders here")},A(a),r.a.createElement("div",null,r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Orders"),r.a.createElement("div",{className:"ml-auto"},m.length>0?r.a.createElement("li",{class:"breadcrumb-item active"},"Total Orders: ",m.length):r.a.createElement("li",{class:"breadcrumb-item active"},"No Orders"))),function(e){e.map((function(t,a){e[a].buttons=r.a.createElement(n.Fragment,null,r.a.createElement("button",{className:"btn btn-sm btn-success mr-1",onClick:function(t){return n=e[a].products,z(n),void B(!0);var n}},r.a.createElement("i",{class:"fa fa-eye","aria-hidden":"true"}))),e[a].orderedby=r.a.createElement(n.Fragment,null," ",t.user.name," ",r.a.createElement("br",null)," ",t.user._id.substr(t.user._id.length-5)),e[a].showstatus=J(t),e[a].amountinrs="\u20b9"+t.amount,e[a].smallid=t._id.substr(t._id.length-8),e[a].total_address=r.a.createElement("h6",null,t.address.address,r.a.createElement("br",null),t.address.city,r.a.createElement("br",null),t.address.district,r.a.createElement("br",null),t.address.state,r.a.createElement("br",null),t.pincode,r.a.createElement("br",null),t.address.land_marks,r.a.createElement("br",null)," ")}));var t={columns:[{label:"Id",field:"smallid",sort:"asc"},{label:"Status",field:"showstatus",sort:"asc"},{label:"Transaction Id",field:"transaction_id",sort:"asc"},{label:"Amount",field:"amountinrs",sort:"asc"},{label:"Ordered by",field:"orderedby",sort:"asc"},{label:"Ordered On",field:"createdAt",sort:"asc"},{label:"Delivery Address",field:"total_address",sort:"asc"},{label:"Products",field:"buttons",sort:"asc"}],rows:e};return r.a.createElement(k.c,{btn:!0,striped:!0,bordered:!0,hover:!0,searching:!0,sortable:!0,responsive:!0,data:t})}(m)),r.a.createElement(P.a,{size:"lg",show:T,onHide:H},r.a.createElement(P.a.Header,{closeButton:!0},r.a.createElement(P.a.Title,null,"Ordered Products")),r.a.createElement(P.a.Body,null,q.map((function(e,t){return r.a.createElement("div",{className:"row m-4"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{src:"".concat(u,"/products/photo/").concat(e._id),alt:"",srcset:""})),r.a.createElement("div",{className:"col-9"},r.a.createElement("div",{className:"row"},r.a.createElement("h5",{className:"font-weight-normal"},e.name),r.a.createElement("h6",{className:"text-muted"},e.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"\u20b9",e.price)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"Quantity: ",e.count)),r.a.createElement("div",{className:"col-4"},r.a.createElement("p",{className:"text-muted"},"total: ",e.price*e.count)))))}))),r.a.createElement(P.a.Footer,null,r.a.createElement("button",{className:"btn btn-secondary",onClick:H},"Close"))))},J=function(){var e=Object(n.useState)(!0),t=Object(d.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),s=Object(d.a)(l,2),b=s[0],f=s[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),g=h[0],v=h[1],N=Object(n.useState)(!1),y=Object(d.a)(N,2),j=y[0],O=y[1],C=p(),S=C.user,x=C.token,_=function(e){v(""),O(!0),c(!0),function(e,t,a){return fetch("".concat(u,"/banner/delete/").concat(e,"/").concat(a),{method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(S._id,x,e).then((function(e){e.error?(v(!0),c(!1)):(P(),v(""),O("Banner Deleted"),c(!1))}))},P=function(){fetch("".concat(u,"/banner/list"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?(console.log(e.error),c(!1)):(f(e),c(!1))}))},D=Object(n.useState)({name:"",photo:"",formData:""}),T=Object(d.a)(D,2),B=T[0],F=T[1],I=B.name,q=B.formData,z=function(e){e.preventDefault(),v(""),O(!1),c(!0),function(e,t,a){return fetch("".concat(u,"/banner/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(t)},body:a}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(S._id,x,q).then((function(e){e.error?(v(!0),c(!1)):(P(),v(""),O("Banner Created"),c(!1))}))},H=function(e){return function(t){var a="photo"===e?t.target.files[0]:t.target.value;q.set(e,a),F(Object(i.a)({},B,Object(m.a)({},e,a)))}};Object(n.useEffect)((function(){F(Object(i.a)({},B,{formData:new FormData})),P()}),[]);return r.a.createElement(w,{title:"Add a new category",description:"Hey ".concat(S.name," ready to add category")},A(a),r.a.createElement("div",{className:""},r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/admin/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Banner"),r.a.createElement("div",{className:"ml-auto"})),r.a.createElement("form",{onSubmit:z,className:"mb-4"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"text",className:"form-control",onChange:H("name"),value:I,name:"",id:"",placeholder:"Banner Name",autoFocus:!0,required:!0})),r.a.createElement("div",{class:"input-group mt-3"},r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{onChange:H("photo"),type:"file",class:"custom-file-input",id:"inputGroupFile01",name:"photo",accept:"image/*"}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},"Choose file")),r.a.createElement("span",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-outline-primary"},"Create")))),function(){if(j)return r.a.createElement("h3",{className:"text-success"}," ",j)}(),function(){if(g)return r.a.createElement("h3",{className:"text-danger"},"Error! ",g)}(),function(e){e.map((function(t,a){e[a].buttons=r.a.createElement("button",{className:"btn btn-sm btn-danger ",onClick:function(e){return _(t._id)}},r.a.createElement("i",{className:"fa fa-ban"})),e[a].photo=r.a.createElement("img",{src:"".concat(u,"/banner/photo/").concat(e[a]._id),className:"img-thumbnail  border-0",alt:"",width:"100px",height:"100px"})}));var t={columns:[{label:"Id",field:"_id",sort:"asc"},{label:"Name",field:"name",sort:"asc"},{label:"Photo",field:"photo",sort:"asc"},{label:"Controls",field:"buttons"}],rows:e};return r.a.createElement(k.c,{striped:!0,bordered:!0,hover:!0,searching:!0,sortable:!0,data:t})}(b)))},U=function(){var e=Object(n.useState)({otp:"",error:"",success:!1}),t=Object(d.a)(e,2),a=t[0],c=t[1],l=a.otp,s=a.error,b=a.success,f=p().user,E=function(e){e.preventDefault(),c(Object(i.a)({},a,{error:!1})),function(e,t,a){return fetch("".concat(u,"/user/").concat(e,"/verifyUser/"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({phone:t,otp:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(f._id,f.phone,l).then((function(e){e.error?c(Object(i.a)({},a,{error:e.error,success:!1})):(!function(e){if(e){var t=[];"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&((t=JSON.parse(localStorage.getItem("jwt"))).user.veryfied_phone=!0,localStorage.setItem("jwt",JSON.stringify(t))))}}(e.done),c(Object(i.a)({},a,{error:"",success:!0})))}))};return r.a.createElement("div",{className:"bg-primary",id:"layoutAuthentication"},r.a.createElement("div",{className:"nav",style:{fontSize:"24px"}},r.a.createElement(o.b,{className:"nav-link text-white",to:"/"}," ",r.a.createElement("i",{class:"fas fa-angle-left"})," Back")),r.a.createElement("div",{id:"layoutAuthentication_content"},r.a.createElement("main",null,r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row justify-content-center"},r.a.createElement("div",{class:"col-lg-5"},r.a.createElement("div",{class:"card shadow-lg border-0 rounded-lg mt-5"},r.a.createElement("div",{class:"card-header"},r.a.createElement("h3",{class:"text-center font-weight-light my-4"},"Verfiy Account")),r.a.createElement("div",{class:"card-body"},function(){return r.a.createElement("form",null,r.a.createElement("div",{class:"form-row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"small mb-1",for:"inputFirstName"},"OTP"),r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{class:"form-control py-4",onChange:(e="otp",function(t){c(Object(i.a)({},a,Object(m.a)({error:!1},e,t.target.value)))}),value:l,type:"number","aria-describedby":"emailHelp",placeholder:"Enter OTP"}))))),r.a.createElement("div",{class:"form-group mt-4 mb-0"},r.a.createElement("button",{onClick:E,className:"btn btn-primary btn-block"},"Verfiy Account")));var e}(),r.a.createElement("div",{className:"mt-3"},r.a.createElement("div",{className:"alert alert-info",style:{display:b?"":"none"}},"Phone number Verified. Continue to ",r.a.createElement(o.b,{to:"/user/dashboard"},"Dashborad")),r.a.createElement("div",{className:"alert alert-danger",style:{display:s?"":"none"}},s))),r.a.createElement("div",{class:"card-footer text-center"},r.a.createElement("div",{class:"small"},r.a.createElement("a",{href:"register.html"},"Have an account? Go to login"))))))))))},L=function(e){e.match;var t=Object(n.useState)(!0),a=Object(d.a)(t,2),c=a[0],l=a[1],s=Object(n.useState)({name:"",email:"",phone:"",address:{},pincode:"",error:!1,success:!1}),b=Object(d.a)(s,2),f=b[0],E=b[1],h=f.name,g=f.email,v=f.phone,N=f.address,y=f.pincode,j=p(),O=j.user,C=j.token,S=function(){l(!0),function(e,t){return fetch("".concat(u,"/user/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(O._id,C).then((function(e){e.error?(console.log(e.error),l(!1)):(E(Object(i.a)({},f,{address:e.address,name:e.name,phone:e.phone,pincode:e.pincode,email:e.email})),l(!1))}))},x=function(e){return function(t){E(Object(i.a)({},f,Object(m.a)({error:!1,success:!1},e,t.target.value)))}},_=function(e){e.preventDefault(),l(!0),function(e,t,a){return fetch("".concat(u,"/user/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({name:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(O._id,C,h).then((function(e){e.error?(E(Object(i.a)({},f,{error:e.error})),l(!1)):function(e,t){if("undefined"!=typeof window&&localStorage.getItem("jwt")){var a=JSON.parse(localStorage.getItem("jwt"));a.user.name=e,localStorage.setItem("jwt",JSON.stringify(a)),t()}}(h,(function(){E(Object(i.a)({},f,{error:!1,name:e.name,success:"User name changed"})),l(!1)}))}))},k=Object(n.useState)(""),P=Object(d.a)(k,2);P[0],P[1];Object(n.useEffect)((function(){S()}),[]);var D=Object(n.useState)({error:!1,success:!1,password:"",currentpassword:""}),T=Object(d.a)(D,2),B=T[0],F=T[1],I=function(e){return function(t){F(Object(i.a)({},B,Object(m.a)({error:!1,success:!1},e,t.target.value)))}},q=function(e){e.preventDefault(),l(!0),function(e,t,a,n){return fetch("".concat(u,"/user/password/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify({currentpassword:n,password:a})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(O._id,C,B.password,B.currentpassword).then((function(e){e.error?(F(Object(i.a)({},B,{error:e.error})),l(!1)):(F(Object(i.a)({},B,{error:!1,success:"Password changed",password:"",currentpassword:""})),l(!1))}))};return r.a.createElement(w,null,A(c),r.a.createElement("ol",{class:"breadcrumb mb-4 mt-4"},r.a.createElement("li",{class:"breadcrumb-item"},r.a.createElement(o.b,{to:"/user/dashboard"},"Dashboard")),r.a.createElement("li",{class:"breadcrumb-item active"},"Edit Profile")),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",onChange:x("name"),defaultValue:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("h6",null,g)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Phone"),r.a.createElement("h6",null,v)),r.a.createElement("button",{className:"btn btn-primary",onClick:_},"Submit"),function(){if(f.success)return r.a.createElement("div",{className:"alert alert-success mt-3"},f.success)}(),function(){if(f.error)return r.a.createElement("div",{className:"alert alert-danger mt-3"},f.error)}()),r.a.createElement("div",{className:"mt-2"},r.a.createElement("hr",null),r.a.createElement("h6",{className:"font-weight-bold"},"Address"),r.a.createElement("h6",null,N.address||""),r.a.createElement("h6",null,N.city||""),r.a.createElement("h6",null,N.district||""),r.a.createElement("h6",null,N.state||""),r.a.createElement("h6",null,y||""),r.a.createElement("h6",null,N.land_marks||"")),r.a.createElement("div",{className:"mt-2"},r.a.createElement("hr",null),r.a.createElement("h6",{className:"font-weight-bold"},"Password"),function(){if(B.success)return r.a.createElement("div",{className:"alert alert-success mt-3 mb-2"},B.success)}(),function(){if(B.error)return r.a.createElement("div",{className:"alert alert-danger mt-3 mb-2"},B.error)}(),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Current Password"),r.a.createElement("input",{type:"password",className:"form-control",onChange:I("currentpassword"),placeholder:"Current password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"New Password"),r.a.createElement("input",{type:"password",className:"form-control",onChange:I("password"),placeholder:"New password"})),r.a.createElement("button",{className:"btn btn-primary mb-3",onClick:q},"Change Password"))))},Q=function(){return r.a.createElement(o.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/signin",exact:!0,component:f}),r.a.createElement(s.b,{path:"/signup",exact:!0,component:b}),r.a.createElement(s.b,{path:"/user/:userId/verifyphone/:phone",exact:!0,component:U}),r.a.createElement(s.b,{path:"/",exact:!0,component:E}),r.a.createElement(g,{path:"/admin/dashboard",exact:!0,component:C}),r.a.createElement(g,{path:"/create/category",exact:!0,component:D}),r.a.createElement(g,{path:"/create/product",exact:!0,component:T}),r.a.createElement(g,{path:"/admin/orders",exact:!0,component:I}),r.a.createElement(g,{path:"/admin/products",exact:!0,component:q}),r.a.createElement(g,{path:"/admin/product/update/:productId",exact:!0,component:z}),r.a.createElement(g,{path:"/admin/orders-delcancel",exact:!0,component:G}),r.a.createElement(g,{path:"/admin/orders-processing",exact:!0,component:H}),r.a.createElement(g,{path:"/admin/banner",exact:!0,component:J}),r.a.createElement(g,{path:"/admin/profile/:userId",exact:!0,component:L})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Q,null)),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.ec0020a9.chunk.js.map